[gd_scene load_steps=13 format=3 uid="uid://hevw1m37oan7"]

[ext_resource type="Script" path="res://World/Player/Player/Fishing/Fishing.gd" id="1_ttivv"]
[ext_resource type="Texture2D" uid="uid://b1ju2e10selvc" path="res://Assets/Images/inventory_icons/Fish/albacore.png" id="2"]
[ext_resource type="Texture2D" uid="uid://b4shw26kcaudu" path="res://Assets/Images/Misc/Fishing/progress bar/fishing_bar-frame.png" id="2_ywe2l"]
[ext_resource type="Texture2D" uid="uid://cj0u0f7vk43lp" path="res://Assets/Images/Misc/exclamation icon.png" id="3"]
[ext_resource type="Texture2D" uid="uid://c6pnwo0uollui" path="res://Assets/Images/Misc/Fishing/progress bar/fishing_bar.png" id="3_leplc"]
[ext_resource type="PackedScene" uid="uid://1kt2nqmm6sx7" path="res://World/Player/Player/Fishing/FishingMiniGame.tscn" id="4_8e1cl"]
[ext_resource type="Texture2D" uid="uid://dy0twecogksrh" path="res://Characters/Weapon swings/fishing rod cast/fish hook.png" id="5"]
[ext_resource type="Theme" path="res://Assets/Themes/text.tres" id="6_51gg3"]

[sub_resource type="Animation" id="45"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ExclamationPoint:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(17, -67)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("ExclamationPoint:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("HitLabel:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0.4, 0.4)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("HitLabel:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [false]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("HitLabel:modulate")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("ExclamationPoint:visible")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="46"]
resource_name = "bite"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ExclamationPoint:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 5.27803),
"update": 0,
"values": [Vector2(2.08165e-12, -42), Vector2(2.08165e-12, -56)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("ExclamationPoint:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.3, 0.5),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(1, 0, 0, 1), Color(1, 0, 0, 1), Color(1, 1, 1, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ExclamationPoint:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}

[sub_resource type="Animation" id="47"]
resource_name = "hit"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("HitLabel:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(0.4, 0.4), Vector2(0.5, 0.5), Vector2(0.1, 0.1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("HitLabel:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("HitLabel:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.6, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ExclamationPoint:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_g5p86"]
_data = {
"RESET": SubResource("45"),
"bite": SubResource("46"),
"hit": SubResource("47")
}

[node name="Fishing" type="Node2D"]
script = ExtResource("1_ttivv")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ProgressBackground" type="TextureRect" parent="CanvasLayer"]
offset_left = 592.0
offset_top = 240.0
offset_right = 640.0
offset_bottom = 256.0
scale = Vector2(2, 2)
texture = ExtResource("2_ywe2l")

[node name="CastingProgress" type="TextureProgressBar" parent="CanvasLayer"]
offset_left = 592.0
offset_top = 240.0
offset_right = 640.0
offset_bottom = 256.0
scale = Vector2(2, 2)
value = 100.0
texture_progress = ExtResource("3_leplc")

[node name="FishingMiniGame" parent="CanvasLayer" instance=ExtResource("4_8e1cl")]
visible = false
position = Vector2(471, 226)
scale = Vector2(3, 3)

[node name="ExclamationPoint" type="Sprite2D" parent="."]
visible = false
position = Vector2(17, -67)
texture = ExtResource("3")

[node name="HitLabel" type="Label" parent="."]
visible = false
offset_left = -4.0
offset_top = 1.0
offset_right = 162.0
offset_bottom = 114.0
scale = Vector2(0.4, 0.4)
theme = ExtResource("6_51gg3")
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 8
theme_override_font_sizes/font_size = 96
text = "HIT!"

[node name="Line2D" type="Line2D" parent="."]
width = 1.0
default_color = Color(0.156863, 0.156863, 0.156863, 1)

[node name="CastedFishHook" type="Sprite2D" parent="."]
visible = false
texture = ExtResource("5")
centered = false

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_g5p86")
}

[node name="RippleTimer" type="Timer" parent="."]
wait_time = 0.4

[node name="MoveBobTimer" type="Timer" parent="."]
wait_time = 4.0
autostart = true

[node name="FishBiteTimer" type="Timer" parent="."]
wait_time = 5.0
autostart = true

[node name="CaughtFish" type="Sprite2D" parent="."]
visible = false
texture = ExtResource("2")

[node name="SoundEffects" type="AudioStreamPlayer" parent="."]

[connection signal="timeout" from="RippleTimer" to="." method="_on_RippleTimer_timeout"]
[connection signal="timeout" from="MoveBobTimer" to="." method="_on_MoveBobTimer_timeout"]
[connection signal="timeout" from="FishBiteTimer" to="." method="_on_FishBiteTimer_timeout"]
